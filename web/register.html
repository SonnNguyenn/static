<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="renderer" content="webkit" />
		<title>register</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="../bootstrap3/js/holder.js"></script>
		<link href="../bootstrap3/css/register.css" rel="stylesheet" type="text/css">
		<script src="../bootstrap3/jquery-1.9.1.min.js"></script>
		<script src="../bootstrap3/js/bootstrap.js"></script>
	</head>
	<body>

		<div class="container mycontent text-left">
			<div class="regDiv">
				<p>sign up page</p>
				<form id="form-reg" class="form-horizontal" role="form">
					<div class="form-group">
						<label class="col-md-3 control-label">username：</label>
						<div class="col-md-8">
							<input id="username" name="username" type="text" class="form-control" placeholder="">
						</div>
					</div>
					<div class="form-group">
						<label class="col-md-3 control-label"> password：</label>
						<div class="col-md-8">
							<input name="password" type="text" class="form-control" placeholder="">
						</div>
					</div>
					<div class="form-group">
						<label class="col-md-3 control-label"> confirm password：</label>
						<div class="col-md-8">
							<input type="text" class="form-control" placeholder="">
						</div>
					</div>
	
					<div class="form-group">
						<label class="col-md-3 control-label"></label>
						<div class="col-md-8">
							<input id="btn-reg" class="btn btn-primary" type="button" value="sign up now" />
							<span class="pull-right"><small>has account？</small><a href="login.html">login</a></span>
						</div>
					</div>
				</form>
			</div>
		</div>

		<script type="text/javascript">


			$("#btn-reg").click(function() {
				$.ajax({
					url: "/users/reg",
					type: "POST",
					data: $("#form-reg").serialize(),
					dataType: "JSON",
					success: function(json) {
						if (json.state == 200) {
							alert("register success");

							location.href = "login.html";
						} else {
							alert("username exist");
						}
					},

					error: function(xhr) {
						alert("error" + xhr.message);
					}
				})
			})
		</script>
	</body>

</html>